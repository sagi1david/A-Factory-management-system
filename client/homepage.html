<html>
  <head>
    <link
      rel="stylesheet"
      href="https://stackpath.bootstrapcdn.com/bootstrap/4.1.3/css/bootstrap.min.css"
      integrity="sha384-MCw98/SFnGE8fJT3GXwEOngsV7Zt27NXFoaoApmYm81iuXoPkFOJwJ8ERdknLPMO"
      crossorigin="anonymous"
    />
  </head>
  <body onload="loadData()">
    <div class="container" style="margin-top: 50px">
      <h4 id="user"></h4>
      <br />
      <button type="button" class="btn btn-dark" onclick="employeesPage()">
        Employees page
      </button>
      <br /><br />
      <button type="button" class="btn btn-dark" onclick="departmentsPage()">
        Departments page
      </button>
      <br /><br />
      <button type="button" class="btn btn-dark" onclick="shiftsPage()">
        Shifts page
      </button>
      <br /><br />
      <button type="button" class="btn btn-dark" onclick="usersPage()">
        Users page
      </button>
      <br /><br />
      <button type="input" class="btn btn-primary" onclick="Logout()">
        Logout
      </button>
    </div>

    <script>
      const urlHomepage = "http://localhost:3000/homepage";

      const accessToken = sessionStorage["accessToken"];

      async function loadData() {

        const resp = await fetch(urlHomepage, {
          method: "GET",
          headers: { "x-access-token": accessToken },
        });

        const data = await resp.json();

        document.getElementById("user").innerText = data.user.name + " is online";
      }

      function employeesPage() {
        location.href = "./employees.html";
      }

      function departmentsPage() {
        location.href = "./departments.html";
      }

      function shiftsPage() {
        location.href = "./shifts.html";
      }

      function usersPage() {
        location.href = "./users.html";
      }

      async function Logout() {
        location.href = "./login.html";
      }
    </script>
  </body>
</html>
